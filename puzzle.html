<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Puzzle Master</title>
    <link rel="stylesheet" href="styles/main.css"/>
</head>
<body>
<canvas id="canvas" width="600" height="600">
    Your browser doesn't support canvas.
</canvas>
<div id="user-controls">
    Upload your own image: <br/>
    <input id="uploadImg" type='file' value="Upload own puzzle picture"/>
    <br/><br/>

    <img id="myImg" width="200" src="#" alt="Your Image"/>
    <br/><br/>

    <label for="difficulty">Select difficulty</label>
    <br/>
    <select id="difficulty">
        <option value="3">Easy (3x3)</option>
        <option value="4" selected="selected">Normal (4x4)</option>
        <option value="5">Hard (5x5)</option>
        <option value="6">Very hard (6x6)</option>
        <option value="7">Hardcore (7x7)</option>
    </select>
    <br/><br/>

    <button type="submit" id="set-difficulty">Set</button>


</div>
<script src="js/puzzle.js"></script>
<script type="text/javascript">
    var defaultDifficulty = 4;
    var defaultPuzzleImage = 'images/gallery/cat.jpg';

    // Upload your own image
    document.getElementById("uploadImg").addEventListener('change', function () {
        if (this.files && this.files[0]) {
            var reader = new FileReader();
            reader.onload = imageIsLoaded;
            reader.readAsDataURL(this.files[0]);
        }
    }, false);

    function imageIsLoaded(e) {
        document.getElementById('myImg').src = e.target.result;
        defaultPuzzleImage = e.target.result;
    }

    // Set the difficulty level
    document.getElementById("set-difficulty").addEventListener('click', function () {
        var select = document.getElementById("difficulty");
        var selectedValue = select.options[select.selectedIndex].value;
        defaultDifficulty = parseInt(selectedValue);
        createPlayField(defaultPuzzleImage, defaultDifficulty);
    }, false);

    createPlayField(defaultPuzzleImage, defaultDifficulty);
</script>
</body>
</html>